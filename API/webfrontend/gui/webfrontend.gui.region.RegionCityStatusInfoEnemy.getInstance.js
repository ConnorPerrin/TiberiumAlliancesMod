function setObject(n) {
    this._selectedObject = n;
    this._cntEndgameRevengeWarning.setVisibility(this._selectedObject.get_VisObjectType() == ClientLib.Vis.VisObject.EObjectType.RegionCityType && this._selectedObject.get_IsEndgameRevengeTarget() ? y : g);
    this.onCitiesChange();
    this.onTick();
    ClientLib.Data.MainData.GetInstance().get_Server().get_IsSeasonServer() && (this._lblVpLootAmount.setValue(webfrontend.phe.cnc.gui.util.Numbers.formatNumbers(0)), ClientLib.Net.CommunicationManager.GetInstance().SendSimpleCommand(a, {
        baseId: this._selectedObject.get_Id()
    }, webfrontend.phe.cnc.Util.createEventDelegate(ClientLib.Net.CommandResult, this, this.__bgH), null))
}

function onCitiesChange() {
    var y = ClientLib.Data.MainData.GetInstance().get_Time(),
        et, g, ot, a;
    if (this._icnFaction.setSource(webfrontend.phe.cnc.gui.util.Images.getFactionIcon(this._selectedObject.get_PlayerFaction())), this._lblPlayerBaseName.setBase(f + webfrontend.theme.Color.colors[u] + e + this._selectedObject.get_Name() + n, this._selectedObject.get_Id()), this._lblPlayerBaseOwner.setPlayer(f + webfrontend.theme.Color.colors[u] + e + this._selectedObject.get_PlayerName() + n, this._selectedObject.get_PlayerId()), this._lblPlayerBaseLevel.setValue(this.tr(w, t + this._selectedObject.get_BaseLevel().toString() + n)), this._lblPlayerBaseCoordinates.setCoordinates(this._selectedObject.get_RawX(), this._selectedObject.get_RawY(), f + webfrontend.theme.Color.colors[u] + e + webfrontend.phe.cnc.gui.util.Numbers.formatCoordinates(this._selectedObject.get_RawX(), this._selectedObject.get_RawY()) + n), this._lblSurroundingBases.setValue(t + ClientLib.Data.MainData.GetInstance().get_World().SurroundedEnemies(this._selectedObject.get_RawX(), this._selectedObject.get_RawY()).toString() + n), this._lblPlayerAlliance.setAlliance(f + webfrontend.theme.Color.colors[u] + e + this._selectedObject.get_AllianceName() + n, this._selectedObject.get_AllianceId()), this._selectedObject.get_AllianceName() == k && this._lblPlayerAlliance.setNoAlliance(), ClientLib.Data.MainData.GetInstance().get_Server().get_IsSeasonServer() && (this._cntVpMissingAlliance.exclude(), et = ClientLib.Data.MainData.GetInstance().get_Alliance().get_Id(), et <= 0 ? (this._cntVpLootInfo.exclude(), this._cntVpMissingAlliance.show(), this._lblvpMissingAlliance.setValue(this.tr(ft))) : this._cntVpLootInfo.show()), this._cntUnderAttack.setVisibility(i), this._cntAttackerInfo.setVisibility(i), this._cntBaseAlerted.setVisibility(i), this._cntUnderCooldown.setVisibility(i), this._selectedObject.get_isLocked() ? (this._setAttackContainerInfo(this._selectedObject), this._cntUnderAttack.setVisibility(r)) : this._selectedObject.get_isAlerted() ? (a = webfrontend.phe.cnc.Util.getDateTimeString(y.GetJSStepTime(this._selectedObject.get_SupportAlertStartStep())), this._lblAlertedStart.setValue(this.tr(tt, t + a + n)), a = webfrontend.phe.cnc.Util.getDateTimeString(y.GetJSStepTime(this._selectedObject.get_SupportAlertEndStep())), this._lblAlertedEnd.setValue(this.tr(p, t + a + n)), this._cntBaseAlerted.setVisibility(r)) : (this._selectedObject.get_hasCooldown() || this._selectedObject.get_hasRecovery() || this._selectedObject.get_hasMoveRestriction()) && this._cntUnderCooldown.setVisibility(r), this._lblBaseCondition.setValue(this.tr(s, t + this._selectedObject.get_ConditionBuildings() + n)), g = this._selectedObject.get_ConditionDefense(), g == -1 ? this._lblDefenseCondition.setValue(this.tr(h, c)) : this._lblDefenseCondition.setValue(this.tr(o, t + g + n)), this._selectedObject.get_isAlerted() && (ot = y.GetTimespanString(this._selectedObject.get_SupportAlertEndStep(), y.GetServerStep()), this._lblDefenseRepairFinished.setValue(this.tr(it, t + ot + n))), this._selectedObject.get_isProtected() ? (a = webfrontend.phe.cnc.Util.getDateTimeString(y.GetJSStepTime(this._selectedObject.get_ProtectionEndStep())), this._lblNoobProtection.setValue(this.tr(b, t + a + n)), this._lblNoobProtection.setVisibility(r)) : this._lblNoobProtection.setVisibility(i), this._selectedObject.get_hasRecovery() ? (a = webfrontend.phe.cnc.Util.getDateTimeString(y.GetJSStepTime(this._selectedObject.get_RecoveryEndStep())), this._lblRecovery.setValue(this.tr(rt, t + a + n)), this._lblRecovery.setVisibility(r)) : this._lblRecovery.setVisibility(i), this._selectedObject.get_IsTerminalBase() && !ClientLib.Data.MainData.GetInstance().get_Server().get_IsSeasonServer()) {
        this._lblTitle.setValue(this.tr(v));
        var st = ClientLib.Data.MainData.GetInstance().get_Server(),
            ht = webfrontend.phe.cnc.Util.getShortTimespanString(st.get_HubCenterClaimSteps(), !1),
            ct = webfrontend.phe.cnc.Util.getTimespanString(st.get_HubCenterDebuffIncreaseSteps(), !1, !1);
        this._lblIntelText.setValue(ut + this.tr(l, ht, ct) + d);
        this._cntIntel.show()
    } else this._lblTitle.setValue(this.tr(nt)), this._cntIntel.exclude();
    this._setAttackCosts()
}

function onTick() {
    var i;
    this._setMoveState(this._selectedObject);
    this._setCombatState(this._selectedObject, !0);
    this._setAlertedState(this._selectedObject);
    this._setImpactTimer(this._selectedObject);
    this._setAttackCosts();
    this._lblBaseCondition.setValue(this.tr(s, t + this._selectedObject.get_ConditionBuildings() + n));
    i = this._selectedObject.get_ConditionDefense();
    i == -1 ? this._lblDefenseCondition.setValue(this.tr(h, c)) : this._lblDefenseCondition.setValue(this.tr(o, t + i + n));
    !this._selectedObject.get_SupportWeapon() != null && this._setSupportContainer();
    var r = ClientLib.Data.MainData.GetInstance().get_Player(),
        u = webfrontend.phe.cnc.gui.util.Numbers.formatNumbers(r.GetCommandPointCount(), !0),
        f = webfrontend.phe.cnc.gui.util.Numbers.formatNumbers(r.GetCommandPointMaxStorage(), !0);
    this._lblCommandPoints.setValue(f.toString());
    this._lblCommandPointsCurrent.setValue(u.toString())
}
qx.ui.co _cntHeaderntainer.Composite[509 - 0] qx.ui.ba _icnFactionsic.Image[510 - 0] qx.ui.ba _lblTitlesic.Label[511 - 0] qx.ui.co _cntCommandPointsntainer.Composite[512 - 0] qx.ui.ba _lblCommandPointssic.Label[514 - 0] qx.ui.co _cntAttackCostsntainer.Composite[517 - 0] qx.ui.ba _lblCommandPointsCostssic.Label[518 - 0] qx.ui.ba _lblCommandPointsCurrentsic.Label[513 - 0] qx.ui.co _cntPlayerBaseInformationntainer.Composite[522 - 0] webfront _lblPlayerBaseNameend.gui.widgets.BaseLabel[524 - 0] qx.ui.ba _lblPlayerBaseLevelsic.Label[525 - 0] webfront _lblPlayerBaseCoordinatesend.gui.widgets.CoordinatesLabel[526 - 0] qx.ui.ba _lblSurroundingBasessic.Label[530 - 0] webfront _lblPlayerBaseOwnerend.gui.widgets.PlayerLabel[533 - 0] webfront _lblPlayerAllianceend.gui.widgets.AllianceLabel[536 - 0] qx.ui.co _cntNPCBaseInformationntainer.Composite[541 - 0] webfront _lblNPCAllianceend.gui.widgets.AllianceLabel[543 - 0] qx.ui.ba _lblNPCBaseLevelsic.Label[546 - 0] webfront _lblNPCBaseCoordinatesend.gui.widgets.CoordinatesLabel[547 - 0] qx.ui.ba _lblNPCSurroundingBasessic.Label[551 - 0] qx.ui.co _cntMoralDescriptionntainer.Composite[557 - 0] qx.ui.ba _imgMoralDescriptionsic.Image[558 - 0] qx.ui.ba _lblMoralDescriptionsic.Label[559 - 0] qx.ui.co _cntAttackDescriptionntainer.Composite[560 - 0] qx.ui.ba _lblAttackDescriptionsic.Label[561 - 0] qx.ui.ba _lblAttackDescriptionTypesic.Label[563 - 0] qx.ui.ba _lblAttackDescriptionCostssic.Label[564 - 0] qx.ui.ba _lblAttackDescriptionMaxLootsic.Label[566 - 0] qx.ui.ba _lblAttackDescriptionMaxLootValuessic.Label[567 - 0] qx.ui.co _cntIntelntainer.Composite[569 - 0] qx.ui.ba _lblIntelTextsic.Label[571 - 0] qx.ui.ba _lblAlreadyWonMessagesic.Label[570 - 0] qx.ui.co _cntItemInfontainer.Composite[572 - 0] qx.ui.ba _lblItemInfosic.Label[573 - 0] qx.ui.co _cntEndgameRevengeWarningntainer.Composite[584 - 0] qx.ui.co _cntVpLootInfontainer.Composite[577 - 0] qx.ui.ba _lblVpLootAmountsic.Label[578 - 0] qx.ui.ba _icnVpLootInfosic.Image[579 - 0] qx.ui.co _cntVpMissingAlliancentainer.Composite[582 - 0] qx.ui.ba _lblvpMissingAlliancesic.Label[583 - 0] qx.ui.co _cntBaseStatusntainer.Composite[586 - 0] qx.ui.co _cntUnderCooldownntainer.Composite[587 - 0] qx.ui.ba _lblMoveCooldownsic.Label[588 - 0] qx.ui.ba _lblMoveRestrictionsic.Label[590 - 0] qx.ui.ba _lblRecoverysic.Label[589 - 0] qx.ui.co _cntUnderAttackntainer.Composite[599 - 0] qx.ui.ba _lblUnderAttackTitlesic.Label[600 - 0] qx.ui.ba _lblCombatLockdownTextsic.Label[601 - 0] qx.ui.ba _lblCombatLockdownTimersic.Label[602 - 0] qx.ui.co _cntBaseAlertedntainer.Composite[605 - 0] qx.ui.ba _lblAlertedStartsic.Label[606 - 0] qx.ui.ba _lblAlertedEndsic.Label[607 - 0] qx.ui.ba _lblNoobProtectionsic.Label[612 - 0] qx.ui.ba _lblErrorAttackBaseCCNotBuildsic.Label[613 - 0] qx.ui.co _cntBaseConditionntainer.Composite[614 - 0] qx.ui.ba _lblBaseConditionsic.Label[615 - 0] qx.ui.ba _lblDefenseConditionsic.Label[616 - 0] qx.ui.ba _lblDefenseRepairFinishedsic.Label[608 - 0] qx.ui.co _cntImpactTimerntainer.Composite[593 - 0] qx.ui.ba _lblImpactTimerDescsic.Label[594 - 0] qx.ui.ba _lblImpactTimerPreTextsic.Label[595 - 0] qx.ui.ba _lblImpactTimersic.Label[596 - 0] qx.ui.co _cntMaintenancentainer.Composite[619 - 0] webfront _lblMaintenanceBarend.gui.widgets.AppointmentProgressBar[622 - 0] qx.ui.co _cntAttackerInfontainer.Composite[632 - 0] webfront _valAttackerPlayerNameend.gui.widgets.PlayerLabel[634 - 0] qx.ui.ba _lblAttackerAllianceLabelsic.Label[637 - 0] webfront _valAttackerAllianceNameend.gui.widgets.AllianceLabel[638 - 0] webfront _lblAttackerBaseNameend.gui.widgets.BaseLabel[644 - 0] qx.ui.ba _lblAttackerBaseLevelsic.Label[645 - 0] webfront _valAttackerBaseCoordinatsend.gui.widgets.CoordinatesLabel[646 - 0] qx.ui.co _cntSupportWeaponntainer.Composite[652 - 0] qx.ui.ba _iconSupportsic.Image[654 - 0] qx.ui.ba _lblSupportStatussic.Label[656 - 0] qx.ui.ba _lblSupportBuildingsic.Label[657 - 0] qx.ui.ba _lblSupportDamageInfsic.Label[659 - 0] qx.ui.ba _lblSupportDamageTanksic.Label[660 - 0] qx.ui.ba _lblSupportDamageAirsic.Label[661 - 0] qx.ui.co _cntIncommingSupportWeaponsntainer.Composite[666 - 0] qx.ui.ba _lblIncomingSupportsic.Label[667 - 0] qx.ui.ba _lblIncomingSupportType1sic.Label[668 - 0] qx.ui.ba _lblIncomingSupportType2sic.Label[669 - 0] qx.ui.ba _lblIncomingSupportType3sic.Label[670 - 0] qx.ui.co _cntEndGameInfosDebuffntainer.Composite[553 - 0] qx.ui.ba _lblEndGameDebuffsic.Label[554 - 0] qx.ui.ba _lblEndGameDebuffTimersic.Label[555 - 0] qx.ui.co _cntAdditionalInfosntainer.Composite[672 - 0]