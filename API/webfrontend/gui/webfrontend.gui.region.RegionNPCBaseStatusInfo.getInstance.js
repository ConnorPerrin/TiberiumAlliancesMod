function onTick() {
    var i;
    this._setImpactTimer(this._selectedObject);
    this._setCombatState(this._selectedObject, !1);
    this._lblBaseCondition.setValue(this.tr(s, t + this._selectedObject.get_ConditionBuildings() + n, (ClientLib.Data.MainData.GetInstance().get_Server().get_NPCUnitRegenerationPercentBase() * 100).toFixed(1)));
    i = this._selectedObject.get_ConditionDefense();
    i == -1 ? this._lblDefenseCondition.setValue(this.tr(e, h)) : this._lblDefenseCondition.setValue(this.tr(f, t + i + n, ClientLib.Data.MainData.GetInstance().get_Server().get_NPCUnitRegenerationPercent() * 100));
    this._setAttackCosts();
    var r = ClientLib.Data.MainData.GetInstance().get_Player(),
        u = webfrontend.phe.cnc.gui.util.Numbers.formatNumbers(r.GetCommandPointCount(), !0),
        o = webfrontend.phe.cnc.gui.util.Numbers.formatNumbers(r.GetCommandPointMaxStorage(), !0);
    this._lblCommandPoints.setValue(o.toString());
    this._lblCommandPointsCurrent.setValue(u.toString())
}

function onCitiesChange() {
    var ct, lt, ht, st, et, ot;
    if (this._icnFaction.setSource(webfrontend.phe.cnc.gui.util.Images.getFactionIcon(this._selectedObject.get_PlayerFaction())), this._selectedObject.get_IsHubBase() ? this._lblTitle.setValue(this.tr(a)) : this._lblTitle.setValue(this.tr(nt)), this._lblNPCBaseLevel.setValue(this.tr(p, t + this._selectedObject.get_BaseLevel().toString() + n)), this._lblNPCBaseCoordinates.setCoordinates(this._selectedObject.get_RawX(), this._selectedObject.get_RawY(), k + webfrontend.theme.Color.colors[b] + rt + webfrontend.phe.cnc.gui.util.Numbers.formatCoordinates(this._selectedObject.get_RawX(), this._selectedObject.get_RawY()) + n), this._lblNPCSurroundingBases.setValue(t + ClientLib.Data.MainData.GetInstance().get_World().SurroundedEnemies(this._selectedObject.get_RawX(), this._selectedObject.get_RawY()).toString() + n), this._lblNPCAlliance.setAlliance(this.tr(l), webfrontend.gui.widgets.AllianceLabel.ESpecialAllianceIdMutants), this._cntVpLootInfo.exclude(), this._icnVpLootInfo.show(), this._cntVpMissingAlliance.exclude(), this._selectedObject.get_IsHubBase() ? (ClientLib.Data.MainData.GetInstance().get_Server().get_EndGameActive() ? this._lblIntelText.setValue(u + this.tr(d) + i) : this._lblIntelText.setValue(u + this.tr(tt) + i), ClientLib.Data.MainData.GetInstance().get_Server().get_IsSeasonServer() && (this._icnVpLootInfo.exclude(), ct = ClientLib.Data.MainData.GetInstance().get_Server().GetVeteranPointsForGuardianBase(this._selectedObject.get_BaseLevel()), this._lblVpLootAmount.setValue(webfrontend.phe.cnc.gui.util.Numbers.formatNumbers(ct)), lt = ClientLib.Data.MainData.GetInstance().get_Alliance().get_Id(), lt <= 0 ? (this._cntVpLootInfo.exclude(), this._cntVpMissingAlliance.show(), this._lblvpMissingAlliance.setValue(this.tr(it))) : this._cntVpLootInfo.show())) : this._lblIntelText.setValue(u + this.tr(v) + i), this._selectedObject.get_HasIncommingAttack() ? (this._setAttackContainerInfo(this._selectedObject), this._cntUnderAttack.setVisibility(o)) : (this._cntUnderAttack.setVisibility(r), this._cntAttackerInfo.setVisibility(r)), this._lblBaseCondition.setValue(this.tr(s, t + this._selectedObject.get_ConditionBuildings() + n, (ClientLib.Data.MainData.GetInstance().get_Server().get_NPCUnitRegenerationPercentBase() * 100).toFixed(1))), ht = this._selectedObject.get_ConditionDefense(), ht == -1 ? this._lblDefenseCondition.setValue(this.tr(e, h)) : this._lblDefenseCondition.setValue(this.tr(f, t + ht + n, ClientLib.Data.MainData.GetInstance().get_Server().get_NPCUnitRegenerationPercent() * 100)), st = !1, ClientLib.Data.MainData.GetInstance().get_Server().get_CombatUseMoral() && (et = ClientLib.Data.MainData.GetInstance().get_Cities().get_CurrentOwnCity(), et != null)) {
        var yt = ClientLib.Vis.VisMain.GetInstance().get_Region().get_GridWidth(),
            pt = ClientLib.Vis.VisMain.GetInstance().get_Region().get_GridHeight(),
            at = et.get_X() - this._selectedObject.get_X() / yt,
            vt = et.get_Y() - this._selectedObject.get_Y() / pt,
            wt = Math.sqrt(at * at + vt * vt),
            bt = ClientLib.Data.MainData.GetInstance().get_Server().get_MaxBaseMoveDistance() + ClientLib.Data.MainData.GetInstance().get_Server().get_MaxAttackDistance();
        wt <= bt && (ot = ClientLib.Base.Util.GetMoralSignType(et.get_LvlOffense(), this._selectedObject.get_BaseLevelFloat()), ot.k == 1 ? (this._imgMoralDescription.setSource(ft), this._lblMoralDescription.setValue(this.tr(y, ot.v)), this._lblMoralDescription.setTextColor(c), st = !0) : ot.k == 2 && (this._imgMoralDescription.setSource(ut), this._lblMoralDescription.setValue(this.tr(g, ot.v)), this._lblMoralDescription.setTextColor(w), st = !0))
    }
    this._cntMoralDescription.setVisibility(st ? o : r);
    this._setAttackCosts()
}
qx.ui.co _cntHeaderntainer.Composite[747 - 0] qx.ui.ba _icnFactionsic.Image[748 - 0] qx.ui.ba _lblTitlesic.Label[749 - 0] qx.ui.co _cntCommandPointsntainer.Composite[750 - 0] qx.ui.ba _lblCommandPointssic.Label[752 - 0] qx.ui.co _cntAttackCostsntainer.Composite[755 - 0] qx.ui.ba _lblCommandPointsCostssic.Label[756 - 0] qx.ui.ba _lblCommandPointsCurrentsic.Label[751 - 0] qx.ui.co _cntPlayerBaseInformationntainer.Composite[760 - 0] webfront _lblPlayerBaseNameend.gui.widgets.BaseLabel[762 - 0] qx.ui.ba _lblPlayerBaseLevelsic.Label[763 - 0] webfront _lblPlayerBaseCoordinatesend.gui.widgets.CoordinatesLabel[764 - 0] qx.ui.ba _lblSurroundingBasessic.Label[768 - 0] webfront _lblPlayerBaseOwnerend.gui.widgets.PlayerLabel[771 - 0] webfront _lblPlayerAllianceend.gui.widgets.AllianceLabel[774 - 0] qx.ui.co _cntNPCBaseInformationntainer.Composite[779 - 0] webfront _lblNPCAllianceend.gui.widgets.AllianceLabel[781 - 0] qx.ui.ba _lblNPCBaseLevelsic.Label[784 - 0] webfront _lblNPCBaseCoordinatesend.gui.widgets.CoordinatesLabel[785 - 0] qx.ui.ba _lblNPCSurroundingBasessic.Label[789 - 0] qx.ui.co _cntMoralDescriptionntainer.Composite[795 - 0] qx.ui.ba _imgMoralDescriptionsic.Image[796 - 0] qx.ui.ba _lblMoralDescriptionsic.Label[797 - 0] qx.ui.co _cntAttackDescriptionntainer.Composite[798 - 0] qx.ui.ba _lblAttackDescriptionsic.Label[799 - 0] qx.ui.ba _lblAttackDescriptionTypesic.Label[801 - 0] qx.ui.ba _lblAttackDescriptionCostssic.Label[802 - 0] qx.ui.ba _lblAttackDescriptionMaxLootsic.Label[804 - 0] qx.ui.ba _lblAttackDescriptionMaxLootValuessic.Label[805 - 0] qx.ui.co _cntIntelntainer.Composite[807 - 0] qx.ui.ba _lblIntelTextsic.Label[809 - 0] qx.ui.ba _lblAlreadyWonMessagesic.Label[808 - 0] qx.ui.co _cntItemInfontainer.Composite[810 - 0] qx.ui.ba _lblItemInfosic.Label[811 - 0] qx.ui.co _cntEndgameRevengeWarningntainer.Composite[822 - 0] qx.ui.co _cntVpLootInfontainer.Composite[815 - 0] qx.ui.ba _lblVpLootAmountsic.Label[816 - 0] qx.ui.ba _icnVpLootInfosic.Image[817 - 0] qx.ui.co _cntVpMissingAlliancentainer.Composite[820 - 0] qx.ui.ba _lblvpMissingAlliancesic.Label[821 - 0] qx.ui.co _cntBaseStatusntainer.Composite[824 - 0] qx.ui.co _cntUnderCooldownntainer.Composite[825 - 0] qx.ui.ba _lblMoveCooldownsic.Label[826 - 0] qx.ui.ba _lblMoveRestrictionsic.Label[828 - 0] qx.ui.ba _lblRecoverysic.Label[827 - 0] qx.ui.co _cntUnderAttackntainer.Composite[837 - 0] qx.ui.ba _lblUnderAttackTitlesic.Label[838 - 0] qx.ui.ba _lblCombatLockdownTextsic.Label[839 - 0] qx.ui.ba _lblCombatLockdownTimersic.Label[840 - 0] qx.ui.co _cntBaseAlertedntainer.Composite[843 - 0] qx.ui.ba _lblAlertedStartsic.Label[844 - 0] qx.ui.ba _lblAlertedEndsic.Label[845 - 0] qx.ui.ba _lblNoobProtectionsic.Label[850 - 0] qx.ui.ba _lblErrorAttackBaseCCNotBuildsic.Label[851 - 0] qx.ui.co _cntBaseConditionntainer.Composite[852 - 0] qx.ui.ba _lblBaseConditionsic.Label[853 - 0] qx.ui.ba _lblDefenseConditionsic.Label[854 - 0] qx.ui.ba _lblDefenseRepairFinishedsic.Label[846 - 0] qx.ui.co _cntImpactTimerntainer.Composite[831 - 0] qx.ui.ba _lblImpactTimerDescsic.Label[832 - 0] qx.ui.ba _lblImpactTimerPreTextsic.Label[833 - 0] qx.ui.ba _lblImpactTimersic.Label[834 - 0] qx.ui.co _cntMaintenancentainer.Composite[857 - 0] webfront _lblMaintenanceBarend.gui.widgets.AppointmentProgressBar[860 - 0] qx.ui.co _cntAttackerInfontainer.Composite[870 - 0] webfront _valAttackerPlayerNameend.gui.widgets.PlayerLabel[872 - 0] qx.ui.ba _lblAttackerAllianceLabelsic.Label[875 - 0] webfront _valAttackerAllianceNameend.gui.widgets.AllianceLabel[876 - 0] webfront _lblAttackerBaseNameend.gui.widgets.BaseLabel[882 - 0] qx.ui.ba _lblAttackerBaseLevelsic.Label[883 - 0] webfront _valAttackerBaseCoordinatsend.gui.widgets.CoordinatesLabel[884 - 0] qx.ui.co _cntSupportWeaponntainer.Composite[890 - 0] qx.ui.ba _iconSupportsic.Image[892 - 0] qx.ui.ba _lblSupportStatussic.Label[894 - 0] qx.ui.ba _lblSupportBuildingsic.Label[895 - 0] qx.ui.ba _lblSupportDamageInfsic.Label[897 - 0] qx.ui.ba _lblSupportDamageTanksic.Label[898 - 0] qx.ui.ba _lblSupportDamageAirsic.Label[899 - 0] qx.ui.co _cntIncommingSupportWeaponsntainer.Composite[904 - 0] qx.ui.ba _lblIncomingSupportsic.Label[905 - 0] qx.ui.ba _lblIncomingSupportType1sic.Label[906 - 0] qx.ui.ba _lblIncomingSupportType2sic.Label[907 - 0] qx.ui.ba _lblIncomingSupportType3sic.Label[908 - 0] qx.ui.co _cntEndGameInfosDebuffntainer.Composite[791 - 0] qx.ui.ba _lblEndGameDebuffsic.Label[792 - 0] qx.ui.ba _lblEndGameDebuffTimersic.Label[793 - 0] qx.ui.co _cntAdditionalInfosntainer.Composite[910 - 0]